
工具：Cursor
模型：gemini-2.5-pro-exp-03-25
模式：Agent

上下文：idea.md, prd_doc_prompt.md
prompt: 根据@idea.md 文件里的idea，按照 @prd_input_prompt.md  的需求协作规范，写一份PRD

--------------


# 零食成分分析器 (Snack Ingredient Analyzer) PRD

## 一、 为什么要做？

### 1. 背景

随着生活水平的提高，家长对儿童食品安全和健康的关注度日益增加。市场上的零食种类繁多，成分表复杂难懂，不同国家和地区可能有不同的食品添加剂标准（如欧盟标准通常被认为更严格）。家长们希望为孩子选择更健康、更安全的零食，但在快速消费决策中，往往难以快速、准确地判断一款零食是否符合要求。同时，对于某些特定成分的潜在影响，家长也缺乏便捷的科普渠道。

### 2. 问题

*   **信息不对称与决策困难:** 复杂的化学名词、冗长的配料表、不同的食品标准，使得家长在短时间内难以判断零食是否适合孩子，是否符合更高的健康标准（如欧标）。
*   **缺乏快速评估工具:** 目前缺少一个简单、快捷的工具，能让家长通过拍照等方式，迅速了解零食成分的详细信息、潜在风险以及是否符合特定标准。
*   **科普知识获取不便:** 家长难以快速获取关于特定食品成分（尤其是添加剂）对儿童健康影响的权威、易懂的科普信息。

### 3. 价值

*   **用户价值 (家长):**
    *   **节省时间与精力:** 快速识别和分析零食成分，简化购买决策流程。
    *   **降低健康焦虑:** 提供基于标准的成分评估和风险提示，帮助家长做出更明智的选择，减少对不明成分的担忧。
    *   **提升健康认知:** 通过对不良成分的解读和相关科普，提升家长对食品成分的认识水平。
*   **商业价值 (潜在):**
    *   **用户粘性:** 通过提供实用价值，吸引并留住关注儿童健康的父母用户群体。
    *   **增值服务:** 可探索如个性化推荐（根据孩子年龄、过敏史等）、详细报告解读、无广告版本等付费模式。
    *   **数据价值:** 积累的匿名化用户偏好和成分关注数据，可用于市场分析或与健康食品品牌合作。

### 4. 目的

*   开发一款移动应用，让用户能通过拍摄零食包装上的配料表照片，快速识别和分析其中的成分。
*   实现对成分列表的自动识别、提取与解析。
*   建立成分数据库，包含成分信息、安全标准（至少包含中国国标和欧盟标准）、儿童适宜性评估、潜在风险等。
*   提供清晰、易懂的分析结果，包括：是否符合所选标准、是否适合儿童食用、识别出的不良/风险成分列表。
*   提供针对不良成分的简明科普信息。

## 二、 要做什么

### 1. 整体设计 (概要设计)

本产品是一款基于移动端（iOS & Android）的应用程序。核心流程如下：
1.  用户打开 App，通过摄像头拍摄零食包装上的配料表区域，或从相册上传配料表图片。
2.  App 对图片进行处理，利用光学字符识别 (OCR) 技术提取配料表文本。
3.  系统自动解析提取出的文本，识别并分离出各个成分名称。
4.  将识别出的成分与后台数据库进行匹配和分析，根据预设规则（如对比欧盟标准、儿童食用风险评估规则）进行判断。
5.  App 向用户展示结构化的分析报告，包括整体评估摘要（如"符合欧标"、"谨慎给儿童食用"等）、详细的成分列表（标出风险成分）、以及对风险成分的解释和科普链接。

### 2. 需求详情

#### 2.1 功能拆分 (Roadmap/Features)

*   **V1.0 (核心功能):**
    *   **图片拍摄/上传:** 调用设备相机拍摄配料表，或从相册选择图片。
    *   **OCR识别:** 对图片中的配料表文字进行识别和提取。
    *   **成分解析:** 从OCR结果中准确识别并分离各个成分。
    *   **成分数据库(基础版):** 包含常见零食成分、中国国标、欧盟食品添加剂标准信息、基本的儿童风险提示。
    *   **分析引擎(基础版):** 实现与国标/欧标的比对，识别常见风险添加剂，给出儿童食用建议。
    *   **结果展示:**
        *   合规性判断（国标/欧标）。
        *   儿童适宜性初步建议。
        *   风险成分高亮列表。
        *   风险成分简单说明。
    *   **用户反馈:** 允许用户反馈识别错误或分析问题。

*   **V1.x (迭代优化):**
    *   **识别优化:** 提高OCR对不同光照、字体、排版的识别准确率。
    *   **成分库扩展:** 覆盖更多成分，增加更详细的风险描述、来源信息、别名等。
    *   **标准库扩展:** 支持更多国家/地区的标准。
    *   **儿童细分:** 根据不同年龄段提供更精细的适宜性建议。
    *   **过敏原提示:** 增加常见过敏原成分的识别与提示。
    *   **历史记录:** 保存用户的查询历史。
    *   **科普中心:** 提供更系统的食品成分、食品安全知识。

*   **V2.0 (扩展功能):**
    *   **用户账户系统:** 支持用户注册登录，同步历史记录、个性化设置（如关注的成分、孩子过敏信息）。
    *   **个性化分析:** 基于用户输入的儿童信息（年龄、过敏史等）提供定制化分析报告。
    *   **条形码扫描:** 支持通过扫描商品条形码直接获取产品信息（若有数据源支持）。
    *   **社区/分享:** 允许用户分享分析结果或讨论。

#### 2.2 功能描述 (部分 V1.0 核心功能示例)

*   **图片拍摄/上传:**
    *   提供清晰的取景框引导，提示用户对准配料表区域，确保光线充足、文字清晰。
    *   支持闪光灯控制。
    *   允许用户从手机相册选择包含配料表的图片。
    *   对上传图片的大小和格式进行限制（待定）。

*   **OCR识别:**
    *   调用第三方成熟OCR SDK或云服务。
    *   对识别结果进行初步的格式化处理，去除明显无关的字符。
    *   需要考虑多语言支持（初期至少支持中文、英文）。
    *   反馈机制：当识别置信度低时，提示用户重新拍摄或手动修改。

*   **成分解析:**
    *   基于规则或机器学习模型，从OCR文本中提取成分列表。
    *   处理常见的成分分隔符（逗号、分号、空格等）。
    *   处理括号内的补充说明（如"着色剂(二氧化钛)"）。
    *   建立成分同义词库（如"维生素C"与"抗坏血酸"）。

*   **分析引擎(基础版):**
    *   **标准比对:** 将解析出的添加剂与数据库中的国标/欧标进行比对，标记是否允许使用及限量（如有）。
    *   **风险识别:** 识别数据库中标记为对儿童有潜在风险的成分（如某些人工色素、高糖分、高钠等）。
    *   **规则引擎:** 根据匹配结果，生成综合评估标签（如：符合欧标、含XX种风险成分、不建议X岁以下儿童食用等）。

*   **结果展示:**
    *   **摘要卡片:** 页面顶部显示最核心的结论，如"符合欧盟标准"、"检测到X项风险成分，请注意"、"基本符合国标"。使用醒目的图标和颜色区分结果（如 绿色√、黄色!、红色×）。
    *   **成分列表:** 清晰列出所有识别出的成分。
        *   对风险成分、不合规成分进行特殊标记（如高亮、图标）。
        *   点击具体成分，可弹出窗口或跳转到新页面，显示该成分的简单说明、所属标准（国标/欧标）及相关科普信息。
    *   **标准切换:** 允许用户选择查看基于国标或欧标的分析结果（如果两者都进行了分析）。

*   **用户反馈:**
    *   在结果页提供"识别有误？"或"分析不对？"的入口。
    *   允许用户选择错误类型（如成分识别错误、标准判断错误等），并可简单描述问题。
    *   收集到的反馈用于模型和数据库的迭代优化。

---
**（注意：以上仅为PRD的初步框架和部分示例，实际开发中需要根据具体情况进行更详细的设计和补充，例如UI/UX设计、非功能性需求、数据指标等。）** 